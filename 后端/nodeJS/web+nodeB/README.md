目录
- [流程-后端部署-腾讯云：](#流程-后端部署-腾讯云)
- [流程-后端部署-堡塔：](#流程-后端部署-堡塔)
- [流程-数据库mysql部署-堡塔\&腾讯云：](#流程-数据库mysql部署-堡塔腾讯云)
- [流程-前端部署-堡塔\&腾讯云：](#流程-前端部署-堡塔腾讯云)
- [腾讯云终端信息：](#腾讯云终端信息)

内容

注：2023.05.25 09:11前：腾讯云重装系统时选择“宝塔”默认选项即可。

# 流程-后端部署-腾讯云：
    
    重装腾讯云系统选择“宝塔”
    配置防火墙“8888”端口号：https://console.cloud.tencent.com/lighthouse/instance/detail?rid=8&id=lhins-8kgkxdak&tab=firewall
    获取用户名密码。点击“登录”。输入“sudo /etc/init.d/bt default”。获取密码等信息如下：https://console.cloud.tencent.com/lighthouse/instance/detail?rid=8&id=lhins-8kgkxdak&tab=application&action=DescribeInstanceLogin
    登录“http://82.156.141.27:8888/tencentcloud”。输入账户密码。参考下方信息。
    成功登录：http://82.156.141.27:8080/

# 流程-后端部署-堡塔：

    必须操作事项：
    0. 上传文件：宝塔 > 文件 > 上传。
    1. 添加端口号：宝塔 > 安全 > 添加端口号：8080。
    2. 添加项目：宝塔 > 软件商店 > PM2管理器 5.4 > 项目列表 > 添加项目 > 启动文件。
    3. 腾讯云添加端口：腾讯云 > 服务器 > 防火墙 > 添加规则 > 端口：8080。
    4. 安装依赖：宝塔 > 软件商店 > PM2管理器 5.4 >  项目列表 > 选择项目-点击管理 > 安装依赖。
    注-无法访问：服务器被我手动关机以后，服务便不在响应。因为：宝塔 > 软件商店 > PM2管理器 5.4 > 项目被删除。所以必须重新创建才可以。
    注-无法访问：没有安装依赖，参考第4条。
    注-失败原因：宝塔 添加项目失败原因：默认Node版本太低。
    注-解决问题：上传node.js代码到宝塔服务器管理工具后，无法公网访问问题

# 流程-数据库mysql部署-堡塔&腾讯云：

1. 腾讯云添加端口：腾讯云 > 服务器 > 防火墙 > 添加规则 > 端口：3306（是mysql数据库默认端口号，其它端口号也有对应使用协议等）；
1. 上传文件：宝塔 > 文件 > 上传（最好编写好package.json，能够一键安装依赖）；
1. 添加文件端口号：宝塔 > 安全 > 添加端口号：8080；
1. 添加数据库端口号：宝塔 > 安全 > 添加端口号：3306（mysql数据库默认端口号）；
1. 添加项目：宝塔 > 软件商店 > PM2管理器 5.4 > 项目列表 > 添加项目 > 启动文件；
1. 安装依赖：宝塔 > 软件商店 > PM2管理器 5.4 >  项目列表 > 选择项目-点击管理 > 安装依赖。
1. 远程连接宝塔MySQL：宝塔 > 软件商店 > MySQL 5.7.40-设置 > 配置修改 > 添加如下代码（重启数据库&重启项目）：
```
default_storage_engine = InnoDB

#下面这句配置是否可以远程连接
skip-grant-tables

performance_schema_max_table_instances = 400
```

# 流程-前端部署-堡塔&腾讯云：

    必须操作事项：
    0. 宝塔 > 文件 > 上传；
    1. 腾讯云 > 服务器 > 防火墙 > 添加规则 > 端口：8081。
    2. 宝塔 > 网站 > PHP项目 > 添加站点 > 域名 > http://82.156.141.27:8081/
    3. 成功使用：http://82.156.141.27:8081/
    注：没有腾讯云前端部署，因腾讯云后端部署时，腾讯云前端部署条件也已经满足了；
    
# 腾讯云终端信息：

```
[lighthouse@VM-16-16-centos ~]$ sudo /etc/init.d/bt default
==================================================================
BT-Panel default info!
==================================================================
外网面板地址:  http://82.156.141.27:8888/tencentcloud
内网面板地址:  http://10.0.16.16:8888/tencentcloud
username: ******
password: ******
If you cannot access the panel,
release the following panel port [8888] in the security group
若无法访问面板，请检查防火墙/安全组是否有放行面板[8888]端口
注意：初始密码仅在首次登录面板前能正确获取，其它时间请通过 bt 5 命令修改密码
==================================================================
[lighthouse@VM-16-16-centos ~]$ 
```
